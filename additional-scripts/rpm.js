const rpm={getRpm(e,t,r){if(!r)return 0;if(0===e)return Math.floor(Math.random()*(rpmSettings.idle.max-rpmSettings.idle.min)+rpmSettings.idle.min);0===t&&(t=1);const n=Math.floor(e/t*rpmSettings.koefLoad+rpmSettings.idle.max);return n>rpmSettings.max?rpmSettings.max:n},getCurrentGear:async()=>new Promise((e=>{jsLoader.socket.sendEvent("getCurrentGear",(({data:t})=>{e(t.split("|")[1])}))})),setHooks(){let e=0;window.interface("Hud").setSpeed=new Proxy(window.interface("Hud").setSpeed,{apply:(t,r,n)=>(window.interface("Hud").speedometer.tachometer.show||this.getCurrentGear().then((t=>{"no-data"!==t&&(e=this.getRpm(n[0],+t,window.interface("Hud").speedometer.params.temperature),oneasHud.speedometer.setTachometer(e,rpmSettings.max),oneasHud.speedometer.setGear(t))})),Reflect.apply(t,r,n))})},init(){this.setHooks(),oneasHud.speedometer.onChangeInfo("tachometer-show",1),oneasHud.speedometer.setGear(1)}};rpm.init();